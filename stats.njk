{% set css %}
  {% include "style.css" %}
{% endset %}

<style>
  {{ css | cssmin | safe }}
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>

{% include "header.njk" %}

<main>
  <h2>Types by year (2020)</h2>
  <canvas id="types"></canvas>
  <h2>Total per year</h2>
  <canvas id="numbers"></canvas>
  <h2>Total entries by type</h2>
  <canvas id="total"></canvas>
</main>

<script>
var types = document.getElementById('types');
var typeChart = new Chart(types, {
    type: 'bar',
    data: {
        labels: ['Books', 'Movies', 'Series', 'Games'],
        datasets: [{
            data: [{{ collections.books | size }}, {{ collections.movies | size }}, {{ collections.series | size }}, {{ collections.games | size }}],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        },
        legend: {
            display: false,
        },
        layout: {
            padding: {
                left: 100,
                right: 100,
                top: 100,
                bottom: 70,
          }
        }
    }
});

var numbers = document.getElementById('numbers');
var numberChart = new Chart(numbers, {
    type: 'bar',
    data: {
        labels: ['2020', '2021'],
        datasets: [{
            label: 'Total per year',
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        },
        legend: {
            display: false,
        },
                layout: {
            padding: {
                left: 100,
                right: 100,
                top: 100,
                bottom: 70,
          }
        }
    }
});

var total = document.getElementById('total');
var totalChart = new Chart(total, {
    type: 'pie',
    data: {
        labels: ['Movies', 'Series', 'Games', 'Books'],
        datasets: [{
            data: [12, 19, 3, 5,],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
            ],
            borderWidth: 1
        }]
    }
});
</script>